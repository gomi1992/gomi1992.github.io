<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>无人机 on GoMi_Field</title>
    <link>https://gomi1992.github.io/categories/%E6%97%A0%E4%BA%BA%E6%9C%BA/</link>
    <description>Recent content in 无人机 on GoMi_Field</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 18 Aug 2020 14:46:19 +0800</lastBuildDate><atom:link href="https://gomi1992.github.io/categories/%E6%97%A0%E4%BA%BA%E6%9C%BA/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>DIY飞控蓝牙调参模块</title>
      <link>https://gomi1992.github.io/2020/08/18/20200818_diy%E9%A3%9E%E6%8E%A7%E8%93%9D%E7%89%99%E8%B0%83%E5%8F%82%E6%A8%A1%E5%9D%97/</link>
      <pubDate>Tue, 18 Aug 2020 14:46:19 +0800</pubDate>
      
      <guid>https://gomi1992.github.io/2020/08/18/20200818_diy%E9%A3%9E%E6%8E%A7%E8%93%9D%E7%89%99%E8%B0%83%E5%8F%82%E6%A8%A1%E5%9D%97/</guid>
      <description>SpeedyBee 蓝牙调参模块虽好，于是我 DIY 了一个。
为什么要 DIY 这玩意 iphone 没法通过 otg 连接飞控 别人家卖的稍微有点贵 原理 单片机作为 USB Host，与飞控通信。 单片机连接蓝牙串口模块，于手机通信。
实现方案 speedybee 使用 STM32 F105 + TI CC2541 蓝牙。 STM32 F105 无须额外芯片即可作为 USB Host。
emmm
由于没有 F105 的开发板，我便采用了 arduino uno。 结合 USB Host Shield 和 蓝牙串口模块。
USB Host Shield 官方购买连接 http://shop.tkjelectronics.dk/product_info.php?products_id=43，官方库（适用于 Arduino）https://github.com/felis/USB_Host_Shield_2.0。该板子使用了 max3421e 芯片。
直接组装，下载完代码后再连接蓝牙串口模块至 uart 接口（uno 仅有一个 uart）。
代码 前提是安装 USB Host Shield 的库。
#include &amp;lt;cdcacm.h&amp;gt; #include &amp;lt;usbhub.h&amp;gt; //#include &amp;#34;pgmstrings.h&amp;#34; // Satisfy the IDE, which needs to see the include statment in the ino too.</description>
    </item>
    
    <item>
      <title>DJI FPV遥控改中国手</title>
      <link>https://gomi1992.github.io/2020/02/01/20200201_dji-fpv%E9%81%A5%E6%8E%A7%E6%94%B9%E4%B8%AD%E5%9B%BD%E6%89%8B/</link>
      <pubDate>Sat, 01 Feb 2020 16:31:15 +0800</pubDate>
      
      <guid>https://gomi1992.github.io/2020/02/01/20200201_dji-fpv%E9%81%A5%E6%8E%A7%E6%94%B9%E4%B8%AD%E5%9B%BD%E6%89%8B/</guid>
      <description>DJI FPV 遥控器如何设置成中国手使用方式。
入手 DJI FPV 老早大疆就发布了主要应用在穿越机上的图传设备--DJI FPV，我馋了好久，碍于钱包，一直没入手。 前段时间，我终于狠下心买了一套--天空端加遥控器，接着问题来了。 我因为种种原因，从入模坑时就是中国手了，这回买的 DJI 遥控是日本手的。 我本以为这个遥控具有丰富的自定义功能，或者能够很快速的设置为中国手。 结果证明我错了。
在我装完飞机后，我无奈的发现我没找到改中国手的地方。
是时候发挥广大人民群众的智慧了。
在发挥之前，需要科普一下遥控的几个通道。
航模通道 通道名 含义 A(Aileron) 横滚，副翼 E(Elevator) 俯仰，升降 R(Rudder) 方向，方向舵 T(Throttle) 油门 我们遥控的两个摇杆能够控制上表中的四个通道。 在大多数遥控中没有直接修改遥感与 AETR 对应方式的地方，但是可以通过修改 mode 来达到效果，比如 mode2 对应美国手。 而在 opentx 系统的遥控中可以随意修改 AETR 的对应方式，实在是非常灵活。
在飞控中修改通道映射 既然我们无法从遥控器设置那里突破，拆遥控也解决不了问题，那飞控呢？ 目前穿越机主流的固件 betaflight、inav 固件都提供通道自定义映射的功能。 以 bf 为例，bf 默认通道映射是 AETR1234，后面的 1234 暂时不用管。 我们日本手的 DJI 遥控连上了后，通道都是正确的，但我想要中国手，也就是横滚和方向需要互换。 那就把 AETR1234 改成 RETA1234 就可以了。 bf 配置器中没有提供直接修改的地方，需要使用命令修改。 在配置器中进入 cli 模式。 输入
map RETA1234 并按下回车。 再输入</description>
    </item>
    
  </channel>
</rss>
