<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>时间管理 on GoMi_Field</title>
    <link>https://gomi1992.github.io/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/</link>
    <description>Recent content in 时间管理 on GoMi_Field</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 17 Nov 2021 18:11:56 +0800</lastBuildDate><atom:link href="https://gomi1992.github.io/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>timetagger定制</title>
      <link>https://gomi1992.github.io/2021/11/17/20211117_timetagger%E5%AE%9A%E5%88%B6/</link>
      <pubDate>Wed, 17 Nov 2021 18:11:56 +0800</pubDate>
      
      <guid>https://gomi1992.github.io/2021/11/17/20211117_timetagger%E5%AE%9A%E5%88%B6/</guid>
      <description>为什么选择 timetagger 树莓派 3B 可能只带的动这个应用，更新版本的可能跑得动其他的。像 kimai 等可能跑不起来。
为什么要定制 timetagger 没有提供登录功能，或者说登录功能太简陋，于是需要自行定制。
如何定制 定制界面 把官方自带的界面 copy 到自己 pages 目录下。
修改 login.md，所有的登录请求都是到这个界面下完成的，所以需要修改它，给它增加登录表单，具体细节看源码。
totp 工具 import pyotp username = &amp;#34;your_username&amp;#34; gtoken = pyotp.random_base32(64) data = pyotp.totp.TOTP(gtoken).provisioning_uri(username, issuer_name=&amp;#34;MyTimeTagger&amp;#34;) print(&amp;#34;gtoken&amp;#34;, gtoken) print(&amp;#34;qrcode data&amp;#34;, data) 生成代码参考python 实现 google authenticator 认证 - Pythia 丶陌乐。
其中 gtoken 就是 totp 密钥，在 run.py 中用到。
qrcode data 是用来生成二维码的内容，随便找个工具，用这个内容生成二维码，然后使用 authy 这样的工具扫码即可。
运行代码 修改静态界面资源到自己的 pages 目录。
引入 pyotp 包。
增加一个用户字典，保存用户名、密码、totp 密钥信息。
修改 webtoken_for_localhost 函数。增加用户登录验证。</description>
    </item>
    
  </channel>
</rss>
